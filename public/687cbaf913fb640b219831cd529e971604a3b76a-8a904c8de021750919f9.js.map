{"version":3,"sources":["webpack:///./src/_components/forms/form-property.js","webpack:///./src/_components/cards/property.js","webpack:///./src/_components/cards/new-card.js","webpack:///./src/_components/inputs/select.js","webpack:///./src/_components/inputs/text.js","webpack:///./src/_components/inputs/textarea.js","webpack:///./src/_components/inputs/auto-suggestion.js"],"names":["Form","styled","form","props","block","shadow","FormCont","div","byCode","FormButtonCont","FormButton","button","noMargin","active","theme","main","primaryColor","noHome","useState","setByCode","useNavigateForm","propertyType","operation","commune","stringSearch","priceMin","priceMax","bedrooms","bathrooms","currency","values","onChange","onFinish","setInitial","params","getSearchParams","useEffect","onClick","onSubmit","e","preventDefault","gutterWidth","align","xs","md","id","onSelect","selected","placeholder","value","default","options","PROPERTY_TYPE","capitalize","primary","COMMUNES","map","val","name","src","alt","style","marginRight","CardCont","CardImage","CardInfo","CardTitleCont","ul","CardTitle","li","CardOperation","span","CardCharacteristics","CharItem","Divider","_id","mainImage","title","code","ubication","characteristics","builderId","useContext","context","to","truncate","priceFormat","toLowerCase","marginLeft","address","filter","char","index","key","img","p","DefaultOption","option","AllOption","Option","Select","select","substring","defaultChecked","disabled","hidden","o","uuid","input","gray","vertical","textarea","InputLabel","label","Input","OptionsMainCont","PropertyImg","PropertyInfoCont","PropertyInfoCode","PropertyInfoTitle","PropertyInfoDescription","contextData","setValue","useReducer","current","next","loading","data","state","setState","onSearch","a","target","valueLen","length","compare","removeAccent","toUpperCase","newData","item","indexOf","propertiesUrl","office","typeId","fetch","json","result","console","log","properties","currentTarget","navigate","htmlFor","type","autoComplete","LoadingOutlined","publicObservations"],"mappings":"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","file":"687cbaf913fb640b219831cd529e971604a3b76a-8a904c8de021750919f9.js","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'react-grid-system';\nimport { Select, Input, Autocomplete } from '../inputs';\nimport { Button, IconButton } from '../buttons';\nimport { Visible, Hidden } from 'react-grid-system';\nimport { useNavigateForm } from '../../_hooks';\nimport PROPERTY_TYPE from '../../_constants/PROPERTY_TYPE.json';\nimport COMMUNES from '../../_constants/CITIES.json';\nimport { getSearchParams } from 'gatsby-query-params';\n\nconst Form = styled.form`\n  width: 100%;\n  border-radius: 6px;\n  padding: 0 15px;\n  margin-bottom: 1rem;\n  @media(min-width: 768px){\n    width: ${props => props.block ? \"100%\" : \"60%\"};\n    padding: 0;\n    padding-left: 5px;\n    background-color: #fff;\n    box-shadow: ${props => props.shadow && \"0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12)\"};\n    margin-bottom:0;\n  }  \n`\nconst FormCont = styled.div`\n  min-width: ${props => props.byCode ? \"70%\" : \"100%\"};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\nconst FormButtonCont = styled.div`\n  display :flex;\n  justify-content: center;\n  margin-bottom: 2rem;\n  @media(min-width: 768px){\n    width: 50%;\n  }\n`\nconst FormButton = styled.button`\n  margin-left: ${props => props.noMargin ? \"0\" : \"2rem\"};\n  color: ${props => props.active ? \"#fff\" : \"rgba(255, 255, 255, .6)\"};\n  font-weight: bold;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid transparent;\n  border-color: ${props => props.active && props.theme.main.primaryColor};\n  transition: 250ms ease;\n  cursor: pointer;\n  @media(min-width: 768px){\n    font-size: 1.2rem;\n  }\n`\n\nexport default ({ block, shadow, noHome })=> {\n  const [byCode, setByCode] = useState(false);\n  const [filter, setFilter] = useState(false);\n  const { values, onChange, onFinish, setInitial } = useNavigateForm({\n    propertyType: '',\n    operation: '',\n    commune: '',\n    stringSearch: '',\n    priceMin: '',\n    priceMax: '',\n    bedrooms: '',\n    bathrooms: '',\n    currency: '',\n  });  \n\n  const params = getSearchParams();\n\n  useEffect(()=>{\n    if(params){\n      setInitial({...params, stringSearch: ''});\n    }\n    if(byCode){\n      setInitial({\n        propertyType: '',\n        operation: '',\n        commune: '',\n        stringSearch: '',\n        priceMin: '',\n        priceMax: '',\n        bedrooms: '',\n        bathrooms: '',\n        currency: '',\n      })\n    }\n  },[params, byCode]);\n\n  const onSubmit = (e)=> {\n    e.preventDefault();\n    onFinish();\n  }\n\n  return(\n    <FormCont byCode={byCode}>\n      {\n        !noHome && (\n      <FormButtonCont>\n        <FormButton\n          onClick={()=> setByCode(false)}\n          active={!byCode}\n          noMargin\n        >\n          Buscar propiedad\n        </FormButton>\n        <FormButton\n          onClick={()=> setByCode(true)}\n          active={byCode}\n        >\n          Buscar por código\n        </FormButton>\n      </FormButtonCont>          \n        )\n      }\n      <Form onSubmit={onSubmit} shadow={shadow} block={block}>\n        <Row gutterWidth={32} align=\"center\">\n          {\n            byCode\n            ?(\n              <Col xs={12} md={10}>\n                <Autocomplete\n                  id=\"stringSearch\"\n                  onSelect={onChange}\n                  selected={values.stringSearch}\n                  placeholder=\"Ingrese el código de la propiedad\"\n                />\n              </Col>    \n            )\n            :(\n              <Fragment>\n                <Col xs={12} md={3}>\n                  <Select\n                    id=\"propertyType\"\n                    onChange={onChange}\n                    value={values.propertyType}\n                    default=\"Propiedad\"\n                    options={PROPERTY_TYPE}\n                    capitalize\n                    primary\n                  />\n                </Col>\n                <Col xs={12} md={3}>\n                <Select\n                    id=\"operation\"\n                    onChange={onChange}        \n                    value={values.operation}          \n                    default=\"Operación\"\n                    options={[\"VENTA\", \"ARRIENDO\"]}\n                    primary\n                    capitalize\n                  />\n                </Col>    \n                <Col xs={12} md={4}>\n                  <Autocomplete\n                    id=\"commune\"\n                    onSelect={onChange}\n                    selected={values.commune}\n                    options={COMMUNES.map(val => val.name)}\n                    placeholder=\"Comuna\"\n                  />                  \n                </Col>                        \n              </Fragment>              \n            )\n          }\n          <Col xs={12} md={2}>\n            <Hidden xs>\n              <IconButton primary>\n                <img src=\"/icons/search.svg\" alt=\"buscar\" />\n              </IconButton>\n            </Hidden>\n            <Visible xs>\n              <Button primary block>\n                <img src=\"/icons/search.svg\" alt=\"buscar\" style={{ marginRight: \"1rem\" }} />\n                Buscar\n              </Button>\n            </Visible>\n          </Col>\n        </Row>\n      </Form>\n    </FormCont>\n  )\n}","import React, { useContext } from 'react';\nimport context from '../../_context';\nimport Link from '../link';\nimport styled from 'styled-components';\nimport { truncate, priceFormat } from '../../_util';\n\nconst CardCont = styled.div`\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px solid #EBEBEB;\n  height: 600px;\n  transition: 250ms ease;\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.108337);\n  margin:0 .3rem;\n  &:hover{\n    //box-shadow: 0px 2px 22px rgba(0, 0, 0, 0.108337);\n    box-shadow: 0px 1px 1px rgba(0, 0, 0, .12),\n                0px 2px 2px rgba(0, 0, 0, .12),\n                0px 4px 4px rgba(0, 0, 0, .12),\n                0px 8px 8px rgba(0, 0, 0, .12),\n                0px 16px 16px rgba(0, 0, 0, .12),\n                0px 32px 32px rgba(0, 0, 0, .12);\n  }\n  @media(min-width: 768px){\n    margin:0 1rem;\n  }\n`\nconst CardImage = styled.div`\n  background-image: url(\"${props => props.src}\");\n  background-position: center;\n  background-size: cover;\n  background-repeat: none;\n  width: 100%;\n  padding-top: 75%;\n`\nconst CardInfo = styled.div`\n  padding: 1rem 1rem 1.5rem 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  color: #212121;\n`\nconst CardTitleCont = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  font-size: 14px;\n  padding-bottom: 2rem;\n`\nconst CardTitle = styled.li`\n  font-size: 1.2rem;\n  margin-bottom: .5rem;\n  font-family: 'Roboto', sans-serif;\n`\nconst CardPrice = styled.li`\n  color: ${props => props.theme.main.primaryColor};\n  font-size: 1.2rem;\n  font-weight: bold;\n  margin-bottom: .5rem;\n`\nconst CardOperation = styled.span`\n  font-weight: bold;\n  text-transform: capitalize;\n  font-family: 'Roboto', sans-serif;\n`\nconst CardCharacteristics = styled.ul`\n  //list-style: none;\n  padding: 1rem;\n  padding-top: 2rem;\n  color: #919191;\n`\n\nconst CharItem = styled.li`\n  margin-bottom: .5rem;\n`\nconst Divider = styled.span`\n  height: 1px;\n  width: 100%;\n  background-color: #EBEBEB;\n`\n\nexport default ({\n  _id,\n  mainImage,\n  title,\n  value,\n  code,\n  ubication,\n  characteristics,\n  operation,\n  currency\n})=> {\n  const builderId = useContext(context).builderId;\n  return(\n    <Link to={`/property?builderId=${builderId}&propertyId=${_id}`} title=\"Ver propiedad\">\n    <CardCont>\n      <CardImage src={mainImage} />\n      <CardInfo>\n        <CardTitleCont>\n          <CardTitle>{truncate(title, 50)}</CardTitle>\n          {currency} {currency !== \"UF\" && \"$\"}{priceFormat(value)}\n          <li>\n            <CardOperation>{operation.toLowerCase()} - cod {code}</CardOperation>\n          </li>\n        </CardTitleCont>\n        <Divider />\n        <CardCharacteristics>\n          <CharItem>\n            <img src=\"/site.svg\" />\n            <span style={{ marginLeft: \".5rem\" }}>{truncate(ubication.address, 30)}</span>\n          </CharItem>\n          {\n            characteristics.filter(char => (\n              char.name === \"Superficie total\" ||\n              char.name === \"Superficie útil\" ||\n              char.name === \"Habitaciones\" ||\n              char.name === \"Baños\" ||\n              char.name === \"Estacionamientos\"\n\n            ) ).map((char, index) => (\n              <CharItem key={index}>\n                {\n                  char.name === \"Superficie total\" && <img src=\"/surface.svg\" /> ||\n                  char.name === \"Superficie útil\" && <img src=\"/surface.svg\" />  ||\n                  char.name === \"Habitaciones\" && <img src=\"/rooms.svg\" /> ||\n                  char.name === \"Baños\" && <img src=\"/bath.svg\" /> ||\n                  char.name === \"Estacionamientos\" && <img src=\"/parking.svg\" />\n                }\n                <span style={{ marginLeft: \".5rem\" }}>{char.name} {char.value} {char.name === \"Superficie total\" && \"mt2\" || char.name === \"Superficie útil\" && \"mt2\"}</span>\n              </CharItem>\n            ))\n          }\n        </CardCharacteristics>\n      </CardInfo>\n    </CardCont>\n    </Link>\n  )\n}","import React from 'react';\nimport styled from 'styled-components';\nimport Link from '../../_components/link';\n\nconst CardCont = styled.div`\n  background-color: #fff;\n  border: 1px solid #EBEBEB;\n`\n\nconst CardImage = styled.img`\n  object-fit: cover;\n  object-position: center;\n  width: 100%;\n`\nconst CardTag = styled.span`\n  width: 86px;\n  height: 27px;\n  border-radius: 20px;\n  background-color: ${props => props.theme.main.primaryColor};\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst CardDescription = styled.div`\n  padding: 1rem;\n`\nconst CardTitle = styled.p`\n  font-weight: bold;\n`\nconst CardDate = styled.span`\n  color: #919191;\n  font-size: 14px;\n`\n\nexport default ({ image, title, tag, date })=>{\n\n  return(\n    <Link to=\"/new\">\n      <CardCont>\n        <CardImage src={image} alt={title} />\n        <CardDescription>\n          <CardTag>\n            {tag}\n          </CardTag>\n          <CardTitle>\n            {title}\n          </CardTitle>\n          <CardDate>\n            {date}\n          </CardDate>\n        </CardDescription>\n      </CardCont>\n    </Link>\n  )\n}","import React from 'react';\nimport styled from 'styled-components';\nimport { capitalize } from '../../_util';\nimport { v1 as uuid } from 'uuid';\n\nconst DefaultOption = styled.option`\n  color: #212121;\n  font-family: \"Relaway\";\n`\nconst AllOption = styled(DefaultOption)`\n  font-weight: bold;\n`\nconst Option = styled.option`\n  color: #212121;\n  font-size: 1rem;\n  font-family: \"Relaway\";\n`\n\nconst Select = styled.select`\n  border: none;\n  outline: none;\n  font-size: 1rem;\n  font-family: \"Relaway\";\n  color: ${props => props.primary ? props.theme.main.primaryColor : \"#212121\"};\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none; \n  background-color: #fff;\n  border-radius: 6px;\n  padding: .5rem;\n  height: 44px;\n  width: 100%;\n  background-image: ${props => props.primary\n  ? `url('data:image/svg+xml;utf8,<svg stroke=\"%23${props.theme.main.primaryColor.substring(1)}\" width=\"28\" height=\"6.633\" fill=\"none\" version=\"1.1\" viewBox=\"0 0 28 6.633\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m11.368 0.63261-5.3678 5.3678-5.3678-5.3678\"/></svg>')`\n  : `url('data:image/svg+xml;utf8,<svg stroke=\"%23FFFFFF\" width=\"28\" height=\"6.633\" fill=\"none\" version=\"1.1\" viewBox=\"0 0 28 6.633\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m11.368 0.63261-5.3678 5.3678-5.3678-5.3678\"/></svg>')`};\n  background-repeat: no-repeat;\n  background-position: right center;\n  margin-bottom: 1rem;\n  color: #878787;\n  cursor: pointer;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12);\n  &::-ms-expand{\n    background: transparent;\n  }  \n  @media(min-width: 768px){\n    margin-bottom: 0;\n    box-shadow: ${props => props.shadow ? \"0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12)\" : \"none\"};\n  }\n`\n\nexport default (props)=> {\n  return(\n      <Select\n        defaultChecked={props.default}\n        {...props}\n      >\n        <DefaultOption value=\"\" disabled selected hidden>{props.default}</DefaultOption>\n        <AllOption value=\"\">Todo</AllOption>\n        {\n          props.options.map((o, index) => <Option value={o} key={uuid()}>{props.capitalize ? capitalize(o): o}</Option>)\n        }       \n      </Select>    \n  )\n}","import styled from 'styled-components';\n\nexport default styled.input`\n  background-color: #fff;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12);\n  border-radius: 6px;\n  padding: 5px;\n  padding-left: .5rem;\n  height: 44px;\n  width: 100%;\n  border: none;\n  font-size: 1rem;\n  font-family: \"Relaway\";\n  margin-bottom: 1rem;\n  border: ${props => props.gray ? \"1px solid #EBEBEB\" : \"none\" };\n  @media(min-width: 768px){\n    margin-bottom: ${props => props.vertical ? \"1rem\" : \"0\"};\n    box-shadow: ${props => props.shadow ? \"0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12)\" : \"none\"};\n  }\n  &::placeholder{\n    color: #878787;\n  }  \n`","import styled from 'styled-components';\n\nexport default styled.textarea`\n  background-color: #fff;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12);\n  border-radius: 6px;\n  padding: 5px;\n  width: 100%;\n  border: none;\n  font-size: 1rem;\n  font-family: \"Relaway\";\n  margin-bottom: 1rem;\n  border: ${props => props.gray ? \"1px solid #EBEBEB\" : \"none\" };\n  @media(min-width: 768px){\n    margin-bottom: ${props => props.vertical ? \"1rem\" : \"0\"};\n    box-shadow: ${props => props.shadow ? \"0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12)\" : \"none\"};\n  }\n  &::placeholder{\n    color: #878787;\n  }\n`","import React, { useReducer, useState, useEffect, useContext } from 'react';\nimport context from '../../_context';\nimport styled from 'styled-components';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { removeAccent, truncate } from '../../_util';\nimport { navigate } from 'gatsby';\n\nconst InputLabel = styled.label`\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 44px;\n  width: 100%;\n  margin-bottom: 1rem;\n  border: ${props => props.gray ? \"1px solid #EBEBEB\" : \"none\" };  \n  padding-right: 16px;\n  color: #fff;\n  @media(min-width: 768px){\n    margin-bottom: ${props => props.vertical ? \"2rem\" : \"0\"};\n    box-shadow: ${props => props.shadow ? \"0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12)\" : \"none\"};\n  }\n`\n\nconst Input = styled.input`\n  background-color: transparent;\n  //box-shadow: 0px 0px 1px rgba(0, 0, 0, .12), 0px 0px 2px rgba(0, 0, 0, .12), 0px 4px 4px rgba(0, 0, 0, .12), 0px 8px 8px rgba(0, 0, 0, .12);\n  border-radius: 3px;\n  padding: 5px;\n  height: 44px;\n  width: 100%;\n  border: none;\n  font-size: 1rem;\n  //color: #fff;\n  &::placeholder{\n    color: #878787;\n  } \n`\nconst OptionsMainCont = styled.ul`\n  background-color: #fff;\n  color: initial;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 44px;\n  padding: 1rem 5px;\n  border: 1px solid #cecece;\n  z-index: 100;\n`\nconst Option = styled.button`\n  background-color: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: 250ms ease;\n  display: flex;\n  text-align: left;\n  &:hover{\n    color: ${props => props.theme.main.primaryColor} !important;\n  }\n`\nconst PropertyImg = styled.img`\n  width: 60px;\n  height: 60px;\n  border-radius: 2px;\n  object-fit: cover;\n  object-position: center;\n`\nconst PropertyInfoCont = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-left: .5rem;\n`\nconst PropertyInfoCode = styled.span`\n  font-size: 12px;\n  color: ${props => props.theme.main.primaryColor};\n`\nconst PropertyInfoTitle = styled.span`\n  font-size: 14px;\n`\nconst PropertyInfoDescription = styled.span`\n  font-size: 12px;\n  color: #666;\n`\n\n\nexport default ({ selected, onSelect, id, placeholder, options, gray }) => {\n  const contextData = useContext(context);\n  const [value, setValue] = useState(selected)\n  const [state, setState] = useReducer((current, next) => ({ ...current, ...next }),{\n    loading: false,\n    data: [],\n  });\n\n  /*useEffect(()=>{\n    if(options){\n      console.log(\"OPTIONS\",)\n      setState({ data: options });\n    }\n  },[options])*/\n\n  const onSearch = async(e) => {\n    const value = e.target.value;\n    if(options){\n      setValue(value);\n      const valueLen = value.length;\n      const compare = removeAccent(value).toUpperCase();\n      const newData = valueLen === 0 ? [] : options.filter(item => removeAccent(item).toUpperCase().indexOf(compare) !== -1);\n      setState({ data: newData });      \n    }\n    else{\n      setState({ loading: true });\n      try{\n        setValue(value);\n        const propertiesUrl = `https://api.clasihome.com/rest/properties?id=${contextData.office.id}&typeId=${contextData.office.typeId}&status=PUBLICADA&stringSearch=${value}`;\n        //const propertiesUrl = `https://api.clasihome.com/rest/properties?id=5e8e36b31c9d440000d35090&typeId=${contextData.office.typeId}&status=PUBLICADA&stringSearch=${value}`;\n        const data = await fetch(propertiesUrl);\n        const result = await data.json();\n        console.log(result);\n        setState({ data: value.length ? result.properties : [], loading: false });\n      }\n      catch(e){\n        console.log(e);\n        setState({ loading: false });\n      }\n    }\n  }\n\n  const onClick = e => {\n    setState({ data: [] });\n    if(options){\n      setValue(e.target.value);\n      onSelect(e);\n    }\n    else{\n      console.log(\"PROPETY ID\", e.currentTarget.id);\n      navigate(`/property?propertyId=${e.currentTarget.id}`);\n    }\n  }\n\n  return (\n    <InputLabel htmlFor={id} gray={gray}>\n      <Input\n        id={id}\n        name={id}\n        value={value}\n        onChange={onSearch}\n        type=\"text\"\n        placeholder={placeholder}\n        gray\n        autoComplete=\"off\"\n      />\n      {\n        state.loading && <LoadingOutlined />\n      }\n      {\n        options\n        ?(\n          state.data.length !== 0 &&\n          (<OptionsMainCont>\n            {\n              state.data.map(item => (\n                <li>\n                  <Option\n                    type=\"button\"\n                    id={id}\n                    value={item}\n                    onClick={onClick}\n                  >\n                    {item}\n                  </Option>\n                </li>               \n             ))\n            }\n          </OptionsMainCont>)\n        )        \n        :(\n          state.data.length !== 0 &&\n          (<OptionsMainCont>\n            {\n              state.data.map(item => (\n                <li>\n                  <Option id={item._id} type=\"button\" onClick={onClick}>\n                    {console.log(item._id)}\n                    <PropertyImg src={item.mainImage} alt={item.code} />\n                    <PropertyInfoCont>\n                      <PropertyInfoCode>\n                        { item.operation + \" - CODE: \" + item.code}\n                      </PropertyInfoCode>\n                      <PropertyInfoTitle>\n                        {item.title}\n                      </PropertyInfoTitle>\n                      <PropertyInfoDescription>\n                        {truncate(item.publicObservations, 220)}\n                      </PropertyInfoDescription>\n                    </PropertyInfoCont>\n                  </Option>\n                </li>\n              ))\n            }\n          </OptionsMainCont>)\n        )\n      }\n    </InputLabel>\n  )\n}"],"sourceRoot":""}